<!--&lt;!&ndash; public/index.html &ndash;&gt;-->
<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <title>Product Input Form</title>-->
<!--  <style>-->
<!--    table, th, td {-->
<!--      border: 1px solid black;-->
<!--      border-collapse: collapse;-->
<!--    }-->
<!--    th, td {-->
<!--      padding: 8px;-->
<!--      text-align: left;-->
<!--    }-->
<!--  </style>-->
<!--</head>-->
<!--<body>-->
<!--<h1>Add a New Product</h1>-->
<!--<form action="/add-product" method="POST">-->
<!--  <div>-->
<!--    <label for="date">Date:</label>-->
<!--    <input type="date" id="date" name="date" required>-->
<!--  </div>-->
<!--  <div>-->
<!--    <label for="name">Product Name:</label>-->
<!--    <input type="text" id="name" name="name" required>-->
<!--  </div>-->
<!--  <div>-->
<!--    <label for="price">Product Price:</label>-->
<!--    <input type="number" step="0.01" id="price" name="price" required>-->
<!--  </div>-->
<!--  <div>-->
<!--    <button type="submit">Add Product</button>-->
<!--  </div>-->
<!--</form>-->
<!--<h1>Search Products</h1>-->
<!--<form id="search-form">-->
<!--  <div>-->
<!--    <label for="search">Product Name:</label>-->
<!--    <input type="text" id="search" name="search" required>-->
<!--  </div>-->
<!--  <div>-->
<!--    <label for="start-date">Start Date:</label>-->
<!--    <input type="date" id="start-date" name="start-date" required>-->
<!--  </div>-->
<!--  <div>-->
<!--    <label for="end-date">End Date:</label>-->
<!--    <input type="date" id="end-date" name="end-date" required>-->
<!--  </div>-->
<!--  <div>-->
<!--    <button type="submit">Search</button>-->
<!--  </div>-->
<!--</form>-->

<!--<h2>Search Results</h2>-->
<!--<table id="results">-->
<!--  <thead>-->
<!--  <tr>-->
<!--    <th>Date</th>-->
<!--    <th>Product Name</th>-->
<!--    <th>Price</th>-->
<!--  </tr>-->
<!--  </thead>-->
<!--  <tbody>-->
<!--  </tbody>-->
<!--</table>-->
<!--<script>-->
<!--  // document.getElementById('search-form').addEventListener('submit', function(event) {-->
<!--  //   event.preventDefault();-->
<!--  //   const searchValue = document.getElementById('search').value;-->
<!--  //   const startDate = document.getElementById('start-date').value;-->
<!--  //   const endDate = document.getElementById('end-date').value;-->
<!--  //-->
<!--  //   fetch(`/search?name=${searchValue}&start=${startDate}&end=${endDate}`)-->
<!--  //           .then(response => response.json())-->
<!--  //           .then(data => {-->
<!--  //             const resultsTable = document.getElementById('results').getElementsByTagName('tbody')[0];-->
<!--  //             resultsTable.innerHTML = '';-->
<!--  //             data.forEach(product => {-->
<!--  //               const row = resultsTable.insertRow();-->
<!--  //               row.insertCell(0).innerText = product.date;-->
<!--  //               row.insertCell(1).innerText = product.name;-->
<!--  //               row.insertCell(2).innerText = product.price;-->
<!--  //             });-->
<!--  //           })-->
<!--  //           .catch(error => {-->
<!--  //             console.error('Error fetching search results:', error);-->
<!--  //           });-->
<!--  // });-->
<!--  document.getElementById('search-form').addEventListener('submit', function(event) {-->
<!--    event.preventDefault();-->
<!--    const searchValue = document.getElementById('search').value;-->
<!--    const startDate = document.getElementById('start-date').value;-->
<!--    const endDate = document.getElementById('end-date').value;-->

<!--    fetch(`/search?name=${searchValue}&start=${startDate}&end=${endDate}`)-->
<!--            .then(response => response.json())-->
<!--            .then(data => {-->
<!--              const resultsTable = document.getElementById('results').getElementsByTagName('tbody')[0];-->
<!--              resultsTable.innerHTML = '';-->
<!--              data.forEach(product => {-->
<!--                const row = resultsTable.insertRow();-->
<!--                row.insertCell(0).innerText = product.formatted_date; // 顯示民國年/月/日格式的日期-->
<!--                row.insertCell(1).innerText = product.name;-->
<!--                row.insertCell(2).innerText = product.price;-->
<!--              });-->
<!--            })-->
<!--            .catch(error => {-->
<!--              console.error('Error fetching search results:', error);-->
<!--            });-->
<!--  });-->

<!--</script>-->
<!--</body>-->
<!--</html>-->







<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Input Form</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px;
      text-align: left;
    }
  </style>
</head>
<body>
<h1>Add a New Product</h1>
<form action="/add-product" method="POST">
  <div>
    <label for="date">Date:</label>
    <input type="date" id="date" name="date" required>
  </div>
  <div>
    <label for="name">Product Name:</label>
    <input type="text" id="name" name="name" required>
  </div>
  <div>
    <label for="price">Product Price:</label>
    <input type="number" step="0.01" id="price" name="price" required>
  </div>
  <div>
    <button type="submit">Add Product</button>
  </div>
</form>
<h1>Search Products</h1>
<form id="search-form">
  <div>
    <label for="search">Product Name:</label>
    <input type="text" id="search" name="search" required>
  </div>
  <div>
    <label for="start-date">Start Date:</label>
    <input type="date" id="start-date" name="start-date" required>
  </div>
  <div>
    <label for="end-date">End Date:</label>
    <input type="date" id="end-date" name="end-date" required>
  </div>
  <div>
    <button type="submit">Search</button>
  </div>
</form>

<h2>Search Results</h2>
<table id="results">
  <thead>
  <tr>
    <th>Date</th>
    <th>Product Name</th>
    <th>Price</th>
  </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<script>
  document.getElementById('search-form').addEventListener('submit', function(event) {
    event.preventDefault();
    const searchValue = document.getElementById('search').value;
    const startDate = document.getElementById('start-date').value;
    const endDate = document.getElementById('end-date').value;

    fetch(`/search?name=${searchValue}&start=${startDate}&end=${endDate}`)
            .then(response => response.json())
            .then(data => {
              const resultsTable = document.getElementById('results').getElementsByTagName('tbody')[0];
              resultsTable.innerHTML = '';
              data.forEach(product => {
                const row = resultsTable.insertRow();
                row.insertCell(0).innerText = product.formatted_date; // 顯示民國年/月/日格式的日期
                row.insertCell(1).innerText = product.name;
                row.insertCell(2).innerText = product.price;
              });
            })
            .catch(error => {
              console.error('Error fetching search results:', error);
            });
  });

</script>
</body>
</html>
